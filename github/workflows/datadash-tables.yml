name: DataDash Table QA

on: [workflow_dispatch]

jobs:
  scrape-tables:
    runs-on: ubuntu-latest
    
    steps:
      - name: [23f3001196@ds.study.iitm.ac.in] Setup
        uses: actions/checkout@v4
      
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
      
      - name: Install Playwright
        run: npm init playwright@latest -- --yes
      
      - name: Run DataDash scraper
        run: |
          echo "file:scrape-tables.js" > playwright.config.js
          npx playwright test scrape-tables.js
      
      - name: Show results
        if: always()
        run: cat test-results/*.png || echo "Check logs above"
